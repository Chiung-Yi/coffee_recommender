<html><head><base href="https://coffeerecommender.com">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coffee Recommender</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background-color: #f5e5d3;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
  }
  .top-menu {
    background-color: #6f4e37;
    width: 100%;
    padding: 10px 0;
    position: fixed;
    top: 0;
    left: 0;
    z-index: 1000;
  }
  .menu-container {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    padding: 0 20px;
  }
  .language-switch {
    display: flex;
    align-items: center;
  }
  .switch-bar {
    width: 60px;
    height: 30px;
    background-color: #472e20;
    border-radius: 15px;
    position: relative;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  .switch-handle {
    width: 26px;
    height: 26px;
    background-color: #fff;
    border-radius: 50%;
    position: absolute;
    top: 2px;
    left: 2px;
    transition: transform 0.3s ease;
  }
  .switch-bar.zh .switch-handle {
    transform: translateX(30px);
  }
  .switch-label {
    color: #fff;
    margin: 0 10px;
    font-size: 14px;
    font-weight: bold;
  }
  .header {
    background-image: url('https://coffeerecommender.com/images/coffee-beans-background.jpg');
    background-size: cover;
    background-position: center;
    width: 100%;
    height: 400px;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-top: 60px;
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
  }
  .header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.4);
  }
  .header h1 {
    font-size: 48px;
    color: #fff;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
    background-color: rgba(111, 78, 55, 0.7);
    padding: 20px 40px;
    border-radius: 10px;
    margin: 0;
    position: relative;
    z-index: 1;
  }
  .container {
    background-color: #fff;
    border-radius: 10px;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    max-width: 600px;
    width: 100%;
    margin-bottom: 20px;
    position: relative;
    overflow: hidden;
  }
  .container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: url('https://coffeerecommender.com/images/coffee-cup-beans.jpg');
    background-size: cover;
    background-position: center;
    opacity: 0.2;
    z-index: 0;
  }
  .container > * {
    position: relative;
    z-index: 1;
  }
  h2 {
    color: #6f4e37;
    text-align: center;
  }
  .coffee-carousel {
    width: 100%;
    max-width: 600px;
    position: relative;
    overflow: hidden;
    margin-top: 20px;
    aspect-ratio: 2 / 1;
  }
  .coffee-varieties {
    display: flex;
    transition: transform 0.5s ease;
    height: 100%;
  }
  .coffee-variety {
    flex: 0 0 100%;
    height: 100%;
    position: relative;
    overflow: hidden;
  }
  .coffee-variety img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  .coffee-info {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    background-color: rgba(0, 0, 0, 0.7);
    color: #fff;
    padding: 15px;
    text-align: center;
  }
  .coffee-info h3 {
    margin: 0 0 5px 0;
    font-size: 16px;
  }
  .coffee-info p {
    margin: 0;
    font-size: 12px;
  }
  .carousel-button {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background-color: rgba(111, 78, 55, 0.7);
    color: #fff;
    border: none;
    padding: 10px;
    cursor: pointer;
    font-size: 18px;
    border-radius: 5px;
    z-index: 10;
  }
  .carousel-button:hover {
    background-color: rgba(111, 78, 55, 0.9);
  }
  .carousel-button.prev {
    left: 10px;
  }
  .carousel-button.next {
    right: 10px;
  }
  .user-info {
    border: 2px solid #6f4e37;
    border-radius: 5px;
    padding: 10px;
    margin-bottom: 20px;
    min-height: 100px;
    display: flex;
    flex-direction: column;
    background-color: rgba(255, 255, 255, 0.8);
  }
  #userInfoText {
    flex-grow: 1;
    margin-bottom: 10px;
    white-space: pre-wrap;
    color: #6f4e37;
  }
  #userInput {
    width: 100%;
    padding: 10px;
    border: 1px solid #6f4e37;
    border-radius: 5px;
    font-size: 16px;
    box-sizing: border-box;
    background-color: rgba(255, 255, 255, 0.9);
  }
  .characteristics {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-bottom: 20px;
  }
  .characteristic {
    background-color: #6f4e37;
    color: #fff;
    border: none;
    border-radius: 20px;
    padding: 10px 15px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  .characteristic:hover {
    background-color: #8b6b4a;
  }
  .button-area {
    display: flex;
    gap: 10px;
  }
  .btn {
    flex: 1;
    padding: 10px;
    background-color: #6f4e37;
    color: #fff;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s;
  }
  .btn:hover {
    background-color: #8b6b4a;
  }
  #clearBtn {
    background-color: #d9534f;
  }
  #clearBtn:hover {
    background-color: #c9302c;
  }
  @media (max-width: 480px) {
    .container {
      padding: 10px;
    }
    .characteristics {
      justify-content: center;
    }
    .button-area {
      flex-direction: column;
    }
    .header h1 {
      font-size: 36px;
      padding: 15px 30px;
    }
    .menu-container {
      flex-direction: column;
      align-items: flex-end;
    }
    .language-switch {
      margin-top: 10px;
    }
  }
</style>
</head>
<body>
  <nav class="top-menu">
    <div class="menu-container">
      <div class="language-switch">
        <span class="switch-label">EN</span>
        <div class="switch-bar" id="languageSwitch">
          <div class="switch-handle"></div>
        </div>
        <span class="switch-label">中文</span>
      </div>
    </div>
  </nav>

  <div class="header">
    <h1 data-lang-key="title">Coffee Recommender</h1>
    <img src="https://coffeerecommender.com/images/coffee-header.jpg" alt="A steaming cup of coffee surrounded by roasted coffee beans on a rustic wooden table" width="100%" height="100%" style="position: absolute; top: 0; left: 0; object-fit: cover; z-index: -1;">
  </div>
  
  <div class="container">
    <h2 data-lang-key="preferences">Tell Us About Your Preferences</h2>
    <div class="user-info">
      <div id="userInfoText" data-lang-key="tell-us">Choose the trait about yourself...</div>
      <input type="text" id="userInput" data-lang-key="enter-preferences" placeholder="Write something about yourself">
    </div>
    <div id="characteristicsContainer" class="characteristics">
      <!-- Characteristic buttons will be dynamically added here -->
    </div>
    <div class="button-area">
      <button id="clearBtn" class="btn" data-lang-key="clear">Clear</button>
      <button id="recommendBtn" class="btn" data-lang-key="recommend">Recommend Coffee</button>
    </div>
  </div>

  <h2 data-lang-key="varieties">Coffee Varieties</h2>
  <div class="coffee-carousel">
    <div class="coffee-varieties">
      <div class="coffee-variety">
        <img src="https://coffeerecommender.com/images/arabica-full.jpg" alt="Close-up of Arabica coffee beans on a wooden surface, showcasing their light brown color and oval shape" width="600" height="300">
        <div class="coffee-info">
          <h3 data-lang-key="arabica">Arabica</h3>
          <p data-lang-key="arabica-desc">Sweet and smooth with complex flavors. The most popular coffee variety.</p>
        </div>
      </div>
      <div class="coffee-variety">
        <img src="https://coffeerecommender.com/images/robusta-full.jpg" alt="Close-up of Robusta coffee beans scattered on a dark background, highlighting their round shape and darker color" width="600" height="300">
        <div class="coffee-info">
          <h3 data-lang-key="robusta">Robusta</h3>
          <p data-lang-key="robusta-desc">Strong and bitter with high caffeine content. Often used in espresso blends.</p>
        </div>
      </div>
      <div class="coffee-variety">
        <img src="https://coffeerecommender.com/images/liberica-full.jpg" alt="Liberica coffee beans in a burlap sack, showing their large, irregular shape and unique appearance" width="600" height="300">
        <div class="coffee-info">
          <h3 data-lang-key="liberica">Liberica</h3>
          <p data-lang-key="liberica-desc">Unique fruity and woody flavor. Rare and primarily grown in Southeast Asia.</p>
        </div>
      </div>
    </div>
    <button class="carousel-button prev">&lt;</button>
    <button class="carousel-button next">&gt;</button>
  </div>

  <script>
    const userInfoText = document.getElementById('userInfoText');
    const recommendBtn = document.getElementById('recommendBtn');
    const clearBtn = document.getElementById('clearBtn');
    const userInput = document.getElementById('userInput');
    const characteristicsContainer = document.getElementById('characteristicsContainer');
    const coffeeVarieties = document.querySelector('.coffee-varieties');
    const prevBtn = document.querySelector('.carousel-button.prev');
    const nextBtn = document.querySelector('.carousel-button.next');
    const languageSwitch = document.getElementById('languageSwitch');
    
    let currentSlide = 0;
    const totalSlides = document.querySelectorAll('.coffee-variety').length;

    function showSlide(index) {
      if (index < 0) {
        currentSlide = totalSlides - 1;
      } else if (index >= totalSlides) {
        currentSlide = 0;
      } else {
        currentSlide = index;
      }
      coffeeVarieties.style.transform = `translateX(-${currentSlide * 100}%)`;
    }

    prevBtn.addEventListener('click', () => showSlide(currentSlide - 1));
    nextBtn.addEventListener('click', () => showSlide(currentSlide + 1));

    const allCharacteristics = [
      "Early Bird", "Night Owl", "Adventurous", "Traditional", "Sweet Tooth", "Health Conscious",
      "Energetic", "Relaxed", "Focused", "Creative", "Social", "Introspective",
      "Outdoor Enthusiast", "City Dweller", "Traveler", "Homebody", "Foodie", "Minimalist"
    ];

    let selectedCharacteristics = [];

    function shuffleArray(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    function updateCharacteristics() {
      characteristicsContainer.innerHTML = '';
      shuffleArray(allCharacteristics);
      const displayCharacteristics = allCharacteristics.slice(0, 6);

      displayCharacteristics.forEach(char => {
        const btn = document.createElement('button');
        btn.className = 'characteristic';
        btn.textContent = char;
        btn.addEventListener('click', () => handleCharacteristicClick(char, btn));
        characteristicsContainer.appendChild(btn);
      });
    }

    function handleCharacteristicClick(char, btn) {
      if (selectedCharacteristics.includes(char)) {
        selectedCharacteristics = selectedCharacteristics.filter(item => item !== char);
        btn.style.backgroundColor = '#6f4e37';
      } else {
        selectedCharacteristics.push(char);
        btn.style.backgroundColor = '#8b6b4a';
      }
      updateUserInfo();
      updateCharacteristics();
    }

    function updateUserInfo() {
      let infoText = '';
      if (selectedCharacteristics.length > 0) {
        infoText += 'You are: ' + selectedCharacteristics.join(', ');
      }
      if (userInput.value) {
        if (infoText) infoText += '\n\n';
        infoText += 'Additional information: ' + userInput.value;
      }
      userInfoText.textContent = infoText || 'Choose the trait about yourself...';
    }

    userInput.addEventListener('input', updateUserInfo);

    recommendBtn.addEventListener('click', () => {
      if (selectedCharacteristics.length === 0 && !userInput.value) {
        userInfoText.textContent = 'Please select at least one characteristic or write something about yourself.';
        return;
      }

      const recommendations = {
        'Early Bird': 'A bright, citrusy Ethiopian Arabica light roast to kickstart your day.',
        'Night Owl': 'A smooth, chocolatey Brazilian Arabica dark roast to keep you company at night.',
        'Adventurous': 'Try our exotic Yirgacheffe Arabica with notes of blueberry and jasmine.',
        'Traditional': 'A classic Colombian Arabica medium roast with a balanced flavor profile.',
        'Sweet Tooth': 'Our caramel macchiato blend with hints of vanilla and toffee, using a mix of Arabica and Robusta.',
        'Health Conscious': 'Our low-acid Arabica cold brew, perfect for sensitive stomachs.',
        'Energetic': 'A vibrant Kenyan Arabica coffee with a zesty, wine-like acidity.',
        'Relaxed': 'A mellow Sumatran Arabica coffee with earthy, herbal notes.',
        'Focused': 'A strong Italian espresso blend using Arabica and Robusta for sharp concentration.',
        'Creative': 'A fruity and floral Panama Geisha Arabica to inspire your imagination.',
        'Social': 'A versatile Arabica medium roast perfect for sharing with friends.',
        'Introspective': 'A complex Ethiopian Sidamo Arabica with layers of flavor to contemplate.',
        'Outdoor Enthusiast': 'A robust French roast Arabica that stands up well to nature\'s elements.',
        'City Dweller': 'A sophisticated single-origin Arabica coffee from an urban roastery.',
        'Traveler': 'A worldly blend featuring Arabica beans from various exotic locations.',
        'Homebody': 'A comforting Arabica house blend that feels like a warm hug.',
        'Foodie': 'A nuanced Arabica light roast with tasting notes to rival fine wine.',
        'Minimalist': 'A clean, crisp Arabica light roast with no added flavors.'
      };

      let recommendation = 'Based on your preferences, we recommend:\n\n';
      selectedCharacteristics.forEach(char => {
        recommendation += `- ${recommendations[char] || 'A specially curated coffee for ' + char + ' individuals.'}\n`;
      });

      if (userInput.value) {
        recommendation += `\nConsidering your additional input "${userInput.value}", we also suggest exploring our artisanal coffee selection for a perfect match.`;
      }

      userInfoText.textContent = recommendation;
    });

    clearBtn.addEventListener('click', () => {
      selectedCharacteristics = [];
      userInput.value = '';
      updateUserInfo();
      updateCharacteristics();
    });

    // Language switching functionality
    const languageData = {
      'en-US': {
        'title': 'Coffee Recommender',
        'preferences': 'Tell Us About Your Preferences',
        'tell-us': 'Choose the trait about yourself...',
        'enter-preferences': 'Write something about yourself',
        'clear': 'Clear',
        'recommend': 'Recommend Coffee',
        'varieties': 'Coffee Varieties',
        'arabica': 'Arabica',
        'arabica-desc': 'Sweet and smooth with complex flavors. The most popular coffee variety.',
        'robusta': 'Robusta',
        'robusta-desc': 'Strong and bitter with high caffeine content. Often used in espresso blends.',
        'liberica': 'Liberica',
        'liberica-desc': 'Unique fruity and woody flavor. Rare and primarily grown in Southeast Asia.'
      },
      'zh-TW': {
        'title': '咖啡推薦器',
        'preferences': '告訴我們您的偏好',
        'tell-us': '選擇描述您的特質...',
        'enter-preferences': '寫下關於您自己的一些事',
        'clear': '清除',
        'recommend': '推薦咖啡',
        'varieties': '咖啡品種',
        'arabica': '阿拉比卡',
        'arabica-desc': '甜美順滑，風味複雜。最受歡迎的咖啡品種。',
        'robusta': '羅布斯塔',
        'robusta-desc': '強烈苦味，咖啡因含量高。常用於義式濃縮咖啡。',
        'liberica': '利比里卡',
        'liberica-desc': '獨特的水果和木質風味。罕見，主要在東南亞種植。'
      }
    };

    function setLanguage(lang) {
      document.querySelectorAll('[data-lang-key]').forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (languageData[lang] && languageData[lang][key]) {
          if (element.tagName === 'INPUT') {
            element.placeholder = languageData[lang][key];
          } else {
            element.textContent = languageData[lang][key];
          }
        }
      });

      languageSwitch.classList.toggle('zh', lang === 'zh-TW');
    }

    languageSwitch.addEventListener('click', () => {
      const currentLang = languageSwitch.classList.contains('zh') ? 'en-US' : 'zh-TW';
      setLanguage(currentLang);
    });

    // Initialize characteristics and carousel
    updateCharacteristics();
    showSlide(0);
    setLanguage('en-US'); // Set default language
  </script>

</body></html>